name: jp
version: "0.1.0"
about: An educational and proof-of-concept version control system.
author: Joe Neeman <joeneeman@gmail.com>

subcommands:
    - apply:
        about: Applies a patch to a branch. The patch must already exist in the repository
        args:
            - PATCH:
                help: hash of the patch
                required: true
                takes_value: true
            - branch:
                help: branch to apply the patch to (defaults to the current branch)
                takes_value: true
            - revert:
                help: if set, unapplies the patch instead of applying it
                short: R
                long: revert
    - branch:
        about: Various commands related to branches
        subcommands:
            - clone:
                about: Creates a copy of the current branch
                args:
                    - NAME:
                        help: name of the branch to create
                        required: true
                        takes_value: true
            - delete:
                about: Deletes a branch
                args:
                    - NAME:
                        help: name of the branch to delete
                        required: true
                        takes_value: true
            - list:
                about: Lists all branches
            - new:
                about: Creates a new, empty, branch
                args:
                    - NAME:
                        help: name of the branch to create
                        required: true
                        takes_value: true
            - switch:
                about: Switches the current branch
                args:
                    - NAME:
                        help: name of the branch to switch to
                        required: true
                        takes_value: true
    - diff:
        about: Shows changes between commits
    - graph:
        about: Creates a .dot file for visualizing the stored file
        args:
            - out:
                help: path for the output file (defaults to the tracked file + '.dot')
                short: o
                long: out
                takes_value: true
    - init:
        about: Creates a new jp repository
        args:
            - PATH:
                help: path to the file we want to track
                required: true
    - log:
        about: Prints all of the patches present on a branch
        args:
            - branch:
                help: branch whose patches we want to print (defaults to the current branch)
                takes_value: true
    - patch:
        about: Various commands related to patches
        subcommands:
            - create:
                about: Creates a patch with the changes in the current working directory
                args:
                    - description:
                        help: message describing the patch
                        short: m
                        long: description
                        required: true
                        takes_value: true
                    - author:
                        help: the author of the patch
                        short: a
                        long: author
                        required: true
                        takes_value: true
                    - branch:
                        help: branch to compare against (defaults to the current branch)
                        takes_value: true
            - add:
                about: Adds a patch to the current repository
                args:
                    - PATCH:
                        help: path to the patch
                        required: true
                        takes_value: true

